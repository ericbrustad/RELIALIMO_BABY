<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Types - RELIAüêÇLIMO‚Ñ¢</title>
    <link rel="stylesheet" href="my-office.css" />
    <link rel="stylesheet" href="service-types.css" />
  </head>
  <body>
    <script>
      // Adjust layout cues when embedded inside the My Office System Settings iframe
      if (window.self !== window.top) {
        document.documentElement.classList.add('embedded');
        document.body.classList.add('embedded');
      }
    </script>
    <div class="service-types-container">
      <!-- Left Sidebar -->
      <aside class="settings-sidebar">
        <nav class="settings-nav">
          <a href="#" class="settings-nav-item">Contact Information</a>
          <a href="#" class="settings-nav-item">Company Preferences</a>
          <a href="#" class="settings-nav-item">System Users</a>
          <a href="#" class="settings-nav-item">Policies</a>
          <a href="#" class="settings-nav-item">ReadBack Script Templates</a>
          <a href="#" class="settings-nav-item">Messaging & Template Settings</a>
          <a href="#" class="settings-nav-item">Calendar Settings</a>
          <a href="#" class="settings-nav-item">Online Reservations</a>
          <a href="#" class="settings-nav-item">Payment Gateway</a>
          <a href="#" class="settings-nav-item">Third-party Plug-ins</a>
          
          <div class="settings-nav-section">
            <div class="settings-nav-item active-section">System Settings</div>
            <a href="service-types.html" class="settings-nav-subitem active">Service Types</a>
            <a href="system-mapping.html" class="settings-nav-subitem">System Mapping</a>
            <a href="magic-link.html" class="settings-nav-subitem">Magic Link</a>
            <a href="sms-provider.html" class="settings-nav-subitem">Sms Provider</a>
            <a href="full-site-test-checklist.html" class="settings-nav-subitem">Test Checklist</a>
            <a href="test-supabase-integration.html" class="settings-nav-subitem">Supabase Integration Test</a>
            <a href="#" class="settings-nav-subitem">Digital Marketing</a>
            <a href="appearance.html" class="settings-nav-subitem">Appearance</a>
          </div>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="service-types-main">
        <!-- Header -->
        <div class="service-types-header">
          <h1 class="service-types-title">Service Types</h1>
          <div class="service-types-actions">
            <!-- Quick Select Dropdown -->
            <div class="quick-select-group" style="display: flex; align-items: center; gap: 10px;">
              <label style="font-size: 13px; color: #666;">Quick Select:</label>
              <select id="serviceTypeQuickSelect" class="form-select-small" style="min-width: 200px;">
                <option value="">-- All Service Types --</option>
              </select>
              <button id="editSelectedBtn" class="btn-small" style="display: none;" title="Edit selected service type">‚úèÔ∏è Edit</button>
            </div>
            <div class="company-selector">
              <label>CompanyAdmin</label>
              <select class="form-select-small">
                <option value="admin" selected>admin</option>
                <option value="user">user</option>
              </select>
            </div>
            <button class="btn-add-new" id="addServiceTypeBtn">Add New</button>
          </div>
        </div>

        <!-- Service Types Table -->
        <div class="service-types-table-wrapper">
          <table class="service-types-table">
            <thead>
              <tr>
                <th style="width: 30px;"></th>
                <th style="width: 180px;">Name</th>
                <th style="width: 100px;">Code</th>
                <th style="width: 150px;">Pricing Type</th>
                <th style="width: 150px;">Custom Label</th>
                <th style="width: 200px;">Agreement</th>
                <th style="width: 180px;">Default</th>
                <th style="width: 140px;">Action</th>
              </tr>
            </thead>
            <tbody id="serviceTypesTableBody"></tbody>
          </table>
        </div>
      </main>
    </div>

    
    <!-- Add/Edit Service Type Modal -->
    <div id="serviceTypeModal" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="serviceTypeModalTitle">
        <div class="modal-header">
          <h3 id="serviceTypeModalTitle">Service Type</h3>
          <button type="button" class="modal-close" data-close-modal title="Close">√ó</button>
        </div>
        <div class="modal-body">
          <div class="form-grid">
            <div class="form-group">
              <label for="stName">Name</label>
              <input id="stName" type="text" class="form-control" placeholder="e.g., From Airport" />
            </div>
            <div class="form-group">
              <label for="stCode">Code</label>
              <input id="stCode" type="text" class="form-control" placeholder="e.g., from-airport" />
              <div class="hint">Lowercase letters, numbers, and dashes recommended.</div>
            </div>
            <div class="form-group">
              <label for="stPricingType">Pricing Type(s)</label>
              <div class="pricing-type-selector" id="pricingTypeSelector">
                <div class="pricing-type-header">
                  <label class="pricing-checkbox-item select-all">
                    <input type="checkbox" id="pricingSelectAll" />
                    <span>Select All</span>
                  </label>
                </div>
                <div class="pricing-type-options">
                  <label class="pricing-checkbox-item">
                    <input type="checkbox" name="pricingType" value="DISTANCE" />
                    <span>Distance</span>
                  </label>
                  <label class="pricing-checkbox-item">
                    <input type="checkbox" name="pricingType" value="HOURS" />
                    <span>Hours</span>
                  </label>
                  <label class="pricing-checkbox-item">
                    <input type="checkbox" name="pricingType" value="PASSENGER" />
                    <span>Passenger</span>
                  </label>
                  <label class="pricing-checkbox-item">
                    <input type="checkbox" name="pricingType" value="FIXED" />
                    <span>Fixed</span>
                  </label>
                  <label class="pricing-checkbox-item">
                    <input type="checkbox" name="pricingType" value="HYBRID" />
                    <span>Hybrid</span>
                  </label>
                </div>
              </div>
              <!-- Hidden select for compatibility -->
              <select id="stPricingType" class="form-control" style="display: none;">
                <option value="DISTANCE">Distance</option>
                <option value="HOURS">Hours</option>
                <option value="PASSENGER">Passenger</option>
                <option value="FIXED">Fixed</option>
                <option value="HYBRID">Hybrid</option>
              </select>
            </div>
            <div class="form-group">
              <label for="stCustomLabel">Custom Label</label>
              <input id="stCustomLabel" type="text" class="form-control" placeholder="Optional label to show on screens/receipts" />
            </div>
            <div class="form-group">
              <label for="stAgreement">Agreement</label>
              <select id="stAgreement" class="form-control">
                <option value="">-- No Agreement --</option>
              </select>
              <div class="field-hint">Agreements come from <strong>Office ‚Üí Company Settings ‚Üí Policies</strong>.</div>
            </div>
            <div class="form-group">
              <label for="stDefaultSettings">Default Settings</label>
              <input id="stDefaultSettings" type="text" class="form-control" placeholder="Optional defaults (text/json)" />
            </div>
            <div class="form-group">
              <label for="stSortOrder">Sort Order</label>
              <input id="stSortOrder" type="number" class="form-control" placeholder="0" />
            </div>
            <div class="form-group" style="display:flex; align-items:center; gap:10px; padding-top:24px;">
              <input id="stActive" type="checkbox" checked />
              <label for="stActive" style="margin:0;">Active</label>
            </div>
          </div>
          <div id="serviceTypeModalError" class="modal-error" style="display:none;"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" data-close-modal>Cancel</button>
          <button type="button" class="btn-danger" id="deleteServiceTypeBtn" style="display:none;">Delete</button>
          <button type="button" class="btn-primary" id="saveServiceTypeBtn">Save</button>
        </div>
      </div>
    </div>

    <script type="module" src="service-types.js"></script>
  </body>
</html>
